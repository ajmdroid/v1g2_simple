import{f as C,a as m,t as Ha}from"../chunks/U3VcC_BH.js";import{o as Ma}from"../chunks/kg85IUNc.js";import{B as ia,p as Ua,s as T,a as Ja,b as Na,e,d as s,c as d,g as t,r,t as ca,f as Qa,n as da}from"../chunks/BaBLp7YP.js";import{d as Va,s as Ya}from"../chunks/k6lnPJFt.js";import{i as z}from"../chunks/B27jU-Np.js";import{r as u,b as f}from"../chunks/CWJArIwe.js";import{t as Za,s as ae}from"../chunks/CJZ8LQ5g.js";function _(x,h,l,w){var g=x.__style;if(ia||g!==h){var c=Za(h);(!ia||c!==x.getAttribute("style"))&&(c==null?x.removeAttribute("style"):x.style.cssText=c),x.__style=h}return w}var ee=C('<div><span> </span> <button class="btn btn-ghost btn-xs">âœ•</button></div>'),se=C('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),te=C('<span class="loading loading-spinner loading-sm"></span>'),re=C('<div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Counter & Frequency</h2> <div class="grid grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Bogey Counter</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">1.</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Frequency Display</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">35.5</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Band Indicators</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="form-control"><label class="label"><span class="label-text">Laser (L)</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">L</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Ka Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">Ka</span></div></div> <div class="form-control"><label class="label"><span class="label-text">K Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">K</span></div></div> <div class="form-control"><label class="label"><span class="label-text">X Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">X</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Direction Arrows</h2> <div class="form-control"><label class="label"><span class="label-text">Arrow Color</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">â–² â–¼</span></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Status Indicators</h2> <div class="form-control"><label class="label"><span class="label-text">WiFi Icon</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">ðŸ“¶</span></div> <label class="label"><span class="label-text-alt text-base-content/50">Shown when connected to WiFi</span></label></div></div></div> <div class="flex gap-3"><button class="btn btn-primary flex-1"><!></button> <button class="btn btn-outline">ðŸ”„ Reset Defaults</button></div> <div class="text-xs text-base-content/40 text-center">Colors use RGB565 format for the display. Changes apply on next alert.</div>',1),le=C('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Display Colors</h1> <p class="text-sm text-base-content/60">Customize alert colors</p></div></div> <!> <!></div>');function be(x,h){Ua(h,!0);let l=T(Ja({bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047})),w=T(!0),g=T(!1),c=T(null);Ma(async()=>{await va()});async function va(){d(w,!0);try{const a=await fetch("/api/displaycolors");if(a.ok){const n=await a.json();d(l,n,!0)}}catch{d(c,{type:"error",text:"Failed to load colors"},!0)}finally{d(w,!1)}}function i(a){const n=(a>>11&31)<<3,v=(a>>5&63)<<2,b=(a&31)<<3;return"#"+[n,v,b].map(y=>y.toString(16).padStart(2,"0")).join("")}function pa(a){const n=parseInt(a.slice(1,3),16)>>3,v=parseInt(a.slice(3,5),16)>>2,b=parseInt(a.slice(5,7),16)>>3;return n<<11|v<<5|b}function p(a,n){t(l)[a]=pa(n)}async function ba(){d(g,!0),d(c,null);try{const a=new URLSearchParams;a.append("bogey",t(l).bogey),a.append("freq",t(l).freq),a.append("arrow",t(l).arrow),a.append("bandL",t(l).bandL),a.append("bandKa",t(l).bandKa),a.append("bandK",t(l).bandK),a.append("bandX",t(l).bandX),a.append("wifiIcon",t(l).wifiIcon),(await fetch("/api/displaycolors",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a})).ok?d(c,{type:"success",text:"Colors saved! Display will update on next alert."},!0):d(c,{type:"error",text:"Failed to save colors"},!0)}catch{d(c,{type:"error",text:"Connection error"},!0)}finally{d(g,!1)}}async function ua(){if(confirm("Reset all colors to defaults?"))try{(await fetch("/api/displaycolors/reset",{method:"POST"})).ok&&(d(l,{bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047},!0),d(c,{type:"success",text:"Colors reset to defaults!"},!0))}catch{d(c,{type:"error",text:"Failed to reset"},!0)}}var R=le(),G=e(s(R),2);{var fa=a=>{var n=ee(),v=s(n),b=s(v,!0);r(v);var y=e(v,2);y.__click=()=>d(c,null),r(n),ca(()=>{ae(n,1,`alert alert-${t(c).type==="error"?"error":"success"}`),Ya(b,t(c).text)}),m(a,n)};z(G,a=>{t(c)&&a(fa)})}var _a=e(G,2);{var xa=a=>{var n=se();m(a,n)},ga=a=>{var n=re(),v=Qa(n),b=s(v),y=e(s(b),2),$=s(y),H=e(s($),2),I=s(H);u(I),I.__change=o=>p("bogey",o.target.value);var ya=e(I,2);r(H),r($);var M=e($,2),U=e(s(M),2),L=s(U);u(L),L.__change=o=>p("freq",o.target.value);var ma=e(L,2);r(U),r(M),r(y),r(b),r(v);var j=e(v,2),J=s(j),N=e(s(J),2),A=s(N),Q=e(s(A),2),q=s(Q);u(q),q.__change=o=>p("bandL",o.target.value);var ha=e(q,2);r(Q),r(A);var P=e(A,2),V=e(s(P),2),X=s(V);u(X),X.__change=o=>p("bandKa",o.target.value);var wa=e(X,2);r(V),r(P);var E=e(P,2),Y=e(s(E),2),k=s(Y);u(k),k.__change=o=>p("bandK",o.target.value);var Fa=e(k,2);r(Y),r(E);var Z=e(E,2),aa=e(s(Z),2),S=s(aa);u(S),S.__change=o=>p("bandX",o.target.value);var Ka=e(S,2);r(aa),r(Z),r(N),r(J),r(j);var O=e(j,2),ea=s(O),sa=e(s(ea),2),ta=e(s(sa),2),B=s(ta);u(B),B.__change=o=>p("arrow",o.target.value);var Ca=e(B,2);r(ta),r(sa),r(ea),r(O);var W=e(O,2),ra=s(W),la=e(s(ra),2),oa=e(s(la),2),D=s(oa);u(D),D.__change=o=>p("wifiIcon",o.target.value);var Ia=e(D,2);r(oa),da(2),r(la),r(ra),r(W);var na=e(W,2),F=s(na);F.__click=ba;var La=s(F);{var qa=o=>{var K=te();m(o,K)},Xa=o=>{var K=Ha("ðŸ’¾ Save Colors");m(o,K)};z(La,o=>{t(g)?o(qa):o(Xa,!1)})}r(F);var ka=e(F,2);ka.__click=ua,r(na),da(2),ca((o,K,Sa,Ba,Da,Ta,Ra,$a,ja,Aa,Pa,Ea,Oa,Wa,za,Ga)=>{f(I,o),_(ya,`color: ${K??""}`),f(L,Sa),_(ma,`color: ${Ba??""}`),f(q,Da),_(ha,`color: ${Ta??""}`),f(X,Ra),_(wa,`color: ${$a??""}`),f(k,ja),_(Fa,`color: ${Aa??""}`),f(S,Pa),_(Ka,`color: ${Ea??""}`),f(B,Oa),_(Ca,`color: ${Wa??""}`),f(D,za),_(Ia,`color: ${Ga??""}`),F.disabled=t(g)},[()=>i(t(l).bogey),()=>i(t(l).bogey),()=>i(t(l).freq),()=>i(t(l).freq),()=>i(t(l).bandL),()=>i(t(l).bandL),()=>i(t(l).bandKa),()=>i(t(l).bandKa),()=>i(t(l).bandK),()=>i(t(l).bandK),()=>i(t(l).bandX),()=>i(t(l).bandX),()=>i(t(l).arrow),()=>i(t(l).arrow),()=>i(t(l).wifiIcon),()=>i(t(l).wifiIcon)]),m(a,n)};z(_a,a=>{t(w)?a(xa):a(ga,!1)})}r(R),m(x,R),Na()}Va(["click","change"]);export{be as component};
