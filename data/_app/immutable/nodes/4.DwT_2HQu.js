import{f as F,a as h,t as ne}from"../chunks/CJzwpuKh.js";import{o as ce}from"../chunks/tgyn-xxr.js";import{w as qa,p as de,s as A,a as ve,b as pe,c as v,e as t,d as o,g as a,r,t as O,f as be,n as fe,u as ue}from"../chunks/fsS-m6VO.js";import{d as _e,s as Xa}from"../chunks/jRq-jFgM.js";import{i as la}from"../chunks/DGklRumq.js";import{e as Ba,i as Ea}from"../chunks/BzWd8bhm.js";import{r as b,a as _,b as Ta,s as ia}from"../chunks/CcDg8Ibl.js";import{t as xe,s as ge}from"../chunks/DOhhwrM8.js";function f(y,C,s,L){var I=y.__style;if(qa||I!==C){var c=xe(C);(!qa||c!==y.getAttribute("style"))&&(c==null?y.removeAttribute("style"):y.style.cssText=c),y.__style=C}return L}var he=F('<div role="status" aria-live="polite"><span> </span> <button class="btn btn-ghost btn-xs" aria-label="Dismiss message">‚úï</button></div>'),ye=F('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),me=F('<div class="form-control"><label class="label py-1"><span class="label-text text-xs"> </span></label> <div class="flex flex-col items-center gap-1"><input type="color" class="w-10 h-8 cursor-pointer rounded border-0"/> <div class="w-8 h-3 rounded"></div></div></div>'),we=F('<div class="w-12 h-2 rounded"></div>'),Fe=F('<span class="loading loading-spinner loading-sm"></span>'),Ie=F('<div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Counter & Frequency</h2> <div class="grid grid-cols-2 gap-4"><div class="form-control"><label class="label" for="bogey-color"><span class="label-text">Bogey Counter</span></label> <div class="flex items-center gap-3"><input id="bogey-color" type="color" aria-label="Bogey counter color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">1.</span></div></div> <div class="form-control"><label class="label" for="freq-color"><span class="label-text">Frequency Display</span></label> <div class="flex items-center gap-3"><input id="freq-color" type="color" aria-label="Frequency display color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">35.5</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Band Indicators</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="form-control"><label class="label" for="bandL-color"><span class="label-text">Laser (L)</span></label> <div class="flex items-center gap-3"><input id="bandL-color" type="color" aria-label="Laser band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">L</span></div></div> <div class="form-control"><label class="label" for="bandKa-color"><span class="label-text">Ka Band</span></label> <div class="flex items-center gap-3"><input id="bandKa-color" type="color" aria-label="Ka band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">Ka</span></div></div> <div class="form-control"><label class="label" for="bandK-color"><span class="label-text">K Band</span></label> <div class="flex items-center gap-3"><input id="bandK-color" type="color" aria-label="K band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">K</span></div></div> <div class="form-control"><label class="label" for="bandX-color"><span class="label-text">X Band</span></label> <div class="flex items-center gap-3"><input id="bandX-color" type="color" aria-label="X band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">X</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Direction Arrows</h2> <div class="form-control"><label class="label" for="arrow-color"><span class="label-text">Arrow Color</span></label> <div class="flex items-center gap-3"><input id="arrow-color" type="color" aria-label="Direction arrow color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">‚ñ≤ ‚ñº</span></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Status Indicators</h2> <div class="form-control"><label class="label" for="wifiIcon-color"><span class="label-text">WiFi Icon</span></label> <div class="flex items-center gap-3"><input id="wifiIcon-color" type="color" aria-label="WiFi icon color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">üì∂</span></div></div> <div class="divider my-2"></div> <div class="form-control"><label class="label cursor-pointer"><div><span class="label-text">Hide WiFi Icon</span> <p class="text-xs text-base-content/50">Show briefly on connect, then hide</p></div> <input type="checkbox" class="toggle toggle-primary"/></label></div> <div class="form-control"><label class="label cursor-pointer"><div><span class="label-text">Hide Profile Indicator</span> <p class="text-xs text-base-content/50">Show on profile change, then hide</p></div> <input type="checkbox" class="toggle toggle-primary"/></label></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Signal Bars</h2> <p class="text-xs text-base-content/50 mb-2">Bar 1 = weakest, Bar 6 = strongest</p> <div class="grid grid-cols-3 md:grid-cols-6 gap-2"></div> <div class="flex justify-center mt-3"><div class="flex flex-col-reverse gap-1"></div></div></div></div> <div class="flex gap-3"><button class="btn btn-primary flex-1"><!></button> <button class="btn btn-secondary">üëÅÔ∏è Preview</button> <button class="btn btn-outline">üîÑ Reset</button></div> <div class="text-xs text-base-content/40 text-center">Colors use RGB565 format. Save triggers a preview on the display.</div>',1),Ke=F('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Display Colors</h1> <p class="text-sm text-base-content/60">Customize alert colors</p></div></div> <!> <!></div>');function Be(y,C){de(C,!0);let s=A(ve({bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488,hideWifiIcon:!1,hideProfileIndicator:!1})),L=A(!0),I=A(!1),c=A(null);ce(async()=>{await Wa()});async function Wa(){v(L,!0);try{const e=await fetch("/api/displaycolors");if(e.ok){const n=await e.json();v(s,n,!0)}}catch{v(c,{type:"error",text:"Failed to load colors"},!0)}finally{v(L,!1)}}function i(e){const n=(e>>11&31)<<3,p=(e>>5&63)<<2,x=(e&31)<<3;return"#"+[n,p,x].map(K=>K.toString(16).padStart(2,"0")).join("")}function Da(e){const n=parseInt(e.slice(1,3),16)>>3,p=parseInt(e.slice(3,5),16)>>2,x=parseInt(e.slice(5,7),16)>>3;return n<<11|p<<5|x}function u(e,n){a(s)[e]=Da(n)}async function ja(){v(I,!0),v(c,null);try{const e=new URLSearchParams;e.append("bogey",a(s).bogey),e.append("freq",a(s).freq),e.append("arrow",a(s).arrow),e.append("bandL",a(s).bandL),e.append("bandKa",a(s).bandKa),e.append("bandK",a(s).bandK),e.append("bandX",a(s).bandX),e.append("wifiIcon",a(s).wifiIcon),e.append("bar1",a(s).bar1),e.append("bar2",a(s).bar2),e.append("bar3",a(s).bar3),e.append("bar4",a(s).bar4),e.append("bar5",a(s).bar5),e.append("bar6",a(s).bar6),e.append("hideWifiIcon",a(s).hideWifiIcon),e.append("hideProfileIndicator",a(s).hideProfileIndicator),(await fetch("/api/displaycolors",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e})).ok?(v(c,{type:"success",text:"Colors saved! Previewing on display..."},!0),setTimeout(()=>{fetch("/api/displaycolors/clear",{method:"POST"}).catch(()=>{})},3e3)):v(c,{type:"error",text:"Failed to save colors"},!0)}catch{v(c,{type:"error",text:"Connection error"},!0)}finally{v(I,!1)}}async function Ra(){try{await fetch("/api/displaycolors/preview",{method:"POST"})}catch{}}async function Aa(){if(confirm("Reset all colors to defaults?"))try{(await fetch("/api/displaycolors/reset",{method:"POST"})).ok&&(v(s,{bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488,hideWifiIcon:!1,hideProfileIndicator:!1},!0),v(c,{type:"success",text:"Colors reset to defaults!"},!0))}catch{v(c,{type:"error",text:"Failed to reset"},!0)}}var H=Ke(),na=t(o(H),2);{var Oa=e=>{var n=he(),p=o(n),x=o(p,!0);r(p);var K=t(p,2);K.__click=()=>v(c,null),r(n),O(()=>{ge(n,1,`alert alert-${a(c).type==="error"?"error":"success"}`),Xa(x,a(c).text)}),h(e,n)};la(na,e=>{a(c)&&e(Oa)})}var Ha=t(na,2);{var za=e=>{var n=ye();h(e,n)},Ga=e=>{var n=Ie(),p=be(n),x=o(p),K=t(o(x),2),z=o(K),ca=t(o(z),2),$=o(ca);b($),$.__change=l=>u("bogey",l.target.value);var Ma=t($,2);r(ca),r(z);var da=t(z,2),va=t(o(da),2),q=o(va);b(q),q.__change=l=>u("freq",l.target.value);var Ua=t(q,2);r(va),r(da),r(K),r(x),r(p);var G=t(p,2),pa=o(G),ba=t(o(pa),2),M=o(ba),fa=t(o(M),2),X=o(fa);b(X),X.__change=l=>u("bandL",l.target.value);var Ja=t(X,2);r(fa),r(M);var U=t(M,2),ua=t(o(U),2),B=o(ua);b(B),B.__change=l=>u("bandKa",l.target.value);var Qa=t(B,2);r(ua),r(U);var J=t(U,2),_a=t(o(J),2),E=o(_a);b(E),E.__change=l=>u("bandK",l.target.value);var Va=t(E,2);r(_a),r(J);var xa=t(J,2),ga=t(o(xa),2),T=o(ga);b(T),T.__change=l=>u("bandX",l.target.value);var Ya=t(T,2);r(ga),r(xa),r(ba),r(pa),r(G);var Q=t(G,2),ha=o(Q),ya=t(o(ha),2),ma=t(o(ya),2),W=o(ma);b(W),W.__change=l=>u("arrow",l.target.value);var Za=t(W,2);r(ma),r(ya),r(ha),r(Q);var V=t(Q,2),wa=o(V),Y=t(o(wa),2),Fa=t(o(Y),2),D=o(Fa);b(D),D.__change=l=>u("wifiIcon",l.target.value);var Na=t(D,2);r(Fa),r(Y);var Z=t(Y,4),Ia=o(Z),N=t(o(Ia),2);b(N),N.__change=l=>a(s).hideWifiIcon=l.target.checked,r(Ia),r(Z);var Ka=t(Z,2),ka=o(Ka),aa=t(o(ka),2);b(aa),aa.__change=l=>a(s).hideProfileIndicator=l.target.checked,r(ka),r(Ka),r(wa),r(V);var ea=t(V,2),Ca=o(ea),ra=t(o(Ca),4);Ba(ra,20,()=>[1,2,3,4,5,6],Ea,(l,d)=>{const m=ue(()=>`bar-${d}-color`);var w=me(),k=o(w),j=o(k),sa=o(j);r(j),r(k);var R=t(k,2),g=o(R);b(g),g.__change=S=>u(`bar${d}`,S.target.value);var ta=t(g,2);r(R),r(w),O((S,oa)=>{ia(k,"for",a(m)),Xa(sa,`Bar ${d??""}`),ia(g,"id",a(m)),ia(g,"aria-label",`Signal bar ${d??""} color`),_(g,S),f(ta,`background-color: ${oa??""}`)},[()=>i(a(s)[`bar${d}`]),()=>i(a(s)[`bar${d}`])]),h(l,w)}),r(ra);var La=t(ra,2),Pa=o(La);Ba(Pa,20,()=>[1,2,3,4,5,6],Ea,(l,d)=>{var m=we();O(w=>f(m,`background-color: ${w??""}`),[()=>i(a(s)[`bar${d}`])]),h(l,m)}),r(Pa),r(La),r(Ca),r(ea);var Sa=t(ea,2),P=o(Sa);P.__click=ja;var ae=o(P);{var ee=l=>{var d=Fe();h(l,d)},re=l=>{var d=ne("üíæ Save Colors");h(l,d)};la(ae,l=>{a(I)?l(ee):l(re,!1)})}r(P);var $a=t(P,2);$a.__click=Ra;var se=t($a,2);se.__click=Aa,r(Sa),fe(2),O((l,d,m,w,k,j,sa,R,g,ta,S,oa,te,oe,le,ie)=>{_($,l),f(Ma,`color: ${d??""}`),_(q,m),f(Ua,`color: ${w??""}`),_(X,k),f(Ja,`color: ${j??""}`),_(B,sa),f(Qa,`color: ${R??""}`),_(E,g),f(Va,`color: ${ta??""}`),_(T,S),f(Ya,`color: ${oa??""}`),_(W,te),f(Za,`color: ${oe??""}`),_(D,le),f(Na,`color: ${ie??""}`),Ta(N,a(s).hideWifiIcon),Ta(aa,a(s).hideProfileIndicator),P.disabled=a(I)},[()=>i(a(s).bogey),()=>i(a(s).bogey),()=>i(a(s).freq),()=>i(a(s).freq),()=>i(a(s).bandL),()=>i(a(s).bandL),()=>i(a(s).bandKa),()=>i(a(s).bandKa),()=>i(a(s).bandK),()=>i(a(s).bandK),()=>i(a(s).bandX),()=>i(a(s).bandX),()=>i(a(s).arrow),()=>i(a(s).arrow),()=>i(a(s).wifiIcon),()=>i(a(s).wifiIcon)]),h(e,n)};la(Ha,e=>{a(L)?e(za):e(Ga,!1)})}r(H),h(y,H),pe()}_e(["click","change"]);export{Be as component};
