import{f as w,a as h,t as ie}from"../chunks/U3VcC_BH.js";import{o as ne}from"../chunks/kg85IUNc.js";import{B as $a,p as de,s as A,a as ce,b as ve,e as t,d as l,c,g as e,r as s,t as D,f as pe,n as be}from"../chunks/BaBLp7YP.js";import{d as fe,s as Ba}from"../chunks/k6lnPJFt.js";import{i as la}from"../chunks/B27jU-Np.js";import{e as La,i as Ea}from"../chunks/Nfi6ovxQ.js";import{r as b,b as _,a as qa}from"../chunks/CWJArIwe.js";import{t as ue,s as _e}from"../chunks/CJZ8LQ5g.js";function f(y,k,r,C){var F=y.__style;if($a||F!==k){var d=ue(k);(!$a||d!==y.getAttribute("style"))&&(d==null?y.removeAttribute("style"):y.style.cssText=d),y.__style=k}return C}var xe=w('<div><span> </span> <button class="btn btn-ghost btn-xs">‚úï</button></div>'),ge=w('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),he=w('<div class="form-control"><label class="label py-1"><span class="label-text text-xs"> </span></label> <div class="flex flex-col items-center gap-1"><input type="color" class="w-10 h-8 cursor-pointer rounded border-0"/> <div class="w-8 h-3 rounded"></div></div></div>'),ye=w('<div class="w-12 h-2 rounded"></div>'),me=w('<span class="loading loading-spinner loading-sm"></span>'),we=w('<div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Counter & Frequency</h2> <div class="grid grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Bogey Counter</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">1.</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Frequency Display</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">35.5</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Band Indicators</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="form-control"><label class="label"><span class="label-text">Laser (L)</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">L</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Ka Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">Ka</span></div></div> <div class="form-control"><label class="label"><span class="label-text">K Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">K</span></div></div> <div class="form-control"><label class="label"><span class="label-text">X Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">X</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Direction Arrows</h2> <div class="form-control"><label class="label"><span class="label-text">Arrow Color</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">‚ñ≤ ‚ñº</span></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Status Indicators</h2> <div class="form-control"><label class="label"><span class="label-text">WiFi Icon</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">üì∂</span></div></div> <div class="divider my-2"></div> <div class="form-control"><label class="label cursor-pointer"><div><span class="label-text">Hide WiFi Icon</span> <p class="text-xs text-base-content/50">Show briefly on connect, then hide</p></div> <input type="checkbox" class="toggle toggle-primary"/></label></div> <div class="form-control"><label class="label cursor-pointer"><div><span class="label-text">Hide Profile Indicator</span> <p class="text-xs text-base-content/50">Show on profile change, then hide</p></div> <input type="checkbox" class="toggle toggle-primary"/></label></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Signal Bars</h2> <p class="text-xs text-base-content/50 mb-2">Bar 1 = weakest, Bar 6 = strongest</p> <div class="grid grid-cols-3 md:grid-cols-6 gap-2"></div> <div class="flex justify-center mt-3"><div class="flex flex-col-reverse gap-1"></div></div></div></div> <div class="flex gap-3"><button class="btn btn-primary flex-1"><!></button> <button class="btn btn-secondary">üëÅÔ∏è Preview</button> <button class="btn btn-outline">üîÑ Reset</button></div> <div class="text-xs text-base-content/40 text-center">Colors use RGB565 format. Save triggers a preview on the display.</div>',1),Fe=w('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Display Colors</h1> <p class="text-sm text-base-content/60">Customize alert colors</p></div></div> <!> <!></div>');function Le(y,k){de(k,!0);let r=A(ce({bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488,hideWifiIcon:!1,hideProfileIndicator:!1})),C=A(!0),F=A(!1),d=A(null);ne(async()=>{await Ta()});async function Ta(){c(C,!0);try{const a=await fetch("/api/displaycolors");if(a.ok){const n=await a.json();c(r,n,!0)}}catch{c(d,{type:"error",text:"Failed to load colors"},!0)}finally{c(C,!1)}}function i(a){const n=(a>>11&31)<<3,p=(a>>5&63)<<2,x=(a&31)<<3;return"#"+[n,p,x].map(I=>I.toString(16).padStart(2,"0")).join("")}function Xa(a){const n=parseInt(a.slice(1,3),16)>>3,p=parseInt(a.slice(3,5),16)>>2,x=parseInt(a.slice(5,7),16)>>3;return n<<11|p<<5|x}function u(a,n){e(r)[a]=Xa(n)}async function Wa(){c(F,!0),c(d,null);try{const a=new URLSearchParams;a.append("bogey",e(r).bogey),a.append("freq",e(r).freq),a.append("arrow",e(r).arrow),a.append("bandL",e(r).bandL),a.append("bandKa",e(r).bandKa),a.append("bandK",e(r).bandK),a.append("bandX",e(r).bandX),a.append("wifiIcon",e(r).wifiIcon),a.append("bar1",e(r).bar1),a.append("bar2",e(r).bar2),a.append("bar3",e(r).bar3),a.append("bar4",e(r).bar4),a.append("bar5",e(r).bar5),a.append("bar6",e(r).bar6),a.append("hideWifiIcon",e(r).hideWifiIcon),a.append("hideProfileIndicator",e(r).hideProfileIndicator),(await fetch("/api/displaycolors",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a})).ok?(c(d,{type:"success",text:"Colors saved! Previewing on display..."},!0),setTimeout(()=>{fetch("/api/displaycolors/clear",{method:"POST"}).catch(()=>{})},3e3)):c(d,{type:"error",text:"Failed to save colors"},!0)}catch{c(d,{type:"error",text:"Connection error"},!0)}finally{c(F,!1)}}async function ja(){try{await fetch("/api/displaycolors/preview",{method:"POST"})}catch{}}async function Ra(){if(confirm("Reset all colors to defaults?"))try{(await fetch("/api/displaycolors/reset",{method:"POST"})).ok&&(c(r,{bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488,hideWifiIcon:!1,hideProfileIndicator:!1},!0),c(d,{type:"success",text:"Colors reset to defaults!"},!0))}catch{c(d,{type:"error",text:"Failed to reset"},!0)}}var O=Fe(),oa=t(l(O),2);{var Aa=a=>{var n=xe(),p=l(n),x=l(p,!0);s(p);var I=t(p,2);I.__click=()=>c(d,null),s(n),D(()=>{_e(n,1,`alert alert-${e(d).type==="error"?"error":"success"}`),Ba(x,e(d).text)}),h(a,n)};la(oa,a=>{e(d)&&a(Aa)})}var Da=t(oa,2);{var Oa=a=>{var n=ge();h(a,n)},Ha=a=>{var n=we(),p=pe(n),x=l(p),I=t(l(x),2),H=l(I),ia=t(l(H),2),$=l(ia);b($),$.__change=o=>u("bogey",o.target.value);var za=t($,2);s(ia),s(H);var na=t(H,2),da=t(l(na),2),B=l(da);b(B),B.__change=o=>u("freq",o.target.value);var Ga=t(B,2);s(da),s(na),s(I),s(x),s(p);var z=t(p,2),ca=l(z),va=t(l(ca),2),G=l(va),pa=t(l(G),2),L=l(pa);b(L),L.__change=o=>u("bandL",o.target.value);var Ma=t(L,2);s(pa),s(G);var M=t(G,2),ba=t(l(M),2),E=l(ba);b(E),E.__change=o=>u("bandKa",o.target.value);var Ua=t(E,2);s(ba),s(M);var U=t(M,2),fa=t(l(U),2),q=l(fa);b(q),q.__change=o=>u("bandK",o.target.value);var Ja=t(q,2);s(fa),s(U);var ua=t(U,2),_a=t(l(ua),2),T=l(_a);b(T),T.__change=o=>u("bandX",o.target.value);var Qa=t(T,2);s(_a),s(ua),s(va),s(ca),s(z);var J=t(z,2),xa=l(J),ga=t(l(xa),2),ha=t(l(ga),2),X=l(ha);b(X),X.__change=o=>u("arrow",o.target.value);var Va=t(X,2);s(ha),s(ga),s(xa),s(J);var Q=t(J,2),ya=l(Q),V=t(l(ya),2),ma=t(l(V),2),W=l(ma);b(W),W.__change=o=>u("wifiIcon",o.target.value);var Ya=t(W,2);s(ma),s(V);var Y=t(V,4),wa=l(Y),Z=t(l(wa),2);b(Z),Z.__change=o=>e(r).hideWifiIcon=o.target.checked,s(wa),s(Y);var Fa=t(Y,2),Ia=l(Fa),N=t(l(Ia),2);b(N),N.__change=o=>e(r).hideProfileIndicator=o.target.checked,s(Ia),s(Fa),s(ya),s(Q);var aa=t(Q,2),Ka=l(aa),ea=t(l(Ka),4);La(ea,20,()=>[1,2,3,4,5,6],Ea,(o,v)=>{var g=he(),m=l(g),j=l(m),sa=l(j);s(j),s(m);var R=t(m,2),K=l(R);b(K),K.__change=S=>u(`bar${v}`,S.target.value);var ra=t(K,2);s(R),s(g),D((S,ta)=>{Ba(sa,`Bar ${v??""}`),_(K,S),f(ra,`background-color: ${ta??""}`)},[()=>i(e(r)[`bar${v}`]),()=>i(e(r)[`bar${v}`])]),h(o,g)}),s(ea);var ka=t(ea,2),Ca=l(ka);La(Ca,20,()=>[1,2,3,4,5,6],Ea,(o,v)=>{var g=ye();D(m=>f(g,`background-color: ${m??""}`),[()=>i(e(r)[`bar${v}`])]),h(o,g)}),s(Ca),s(ka),s(Ka),s(aa);var Pa=t(aa,2),P=l(Pa);P.__click=Wa;var Za=l(P);{var Na=o=>{var v=me();h(o,v)},ae=o=>{var v=ie("üíæ Save Colors");h(o,v)};la(Za,o=>{e(F)?o(Na):o(ae,!1)})}s(P);var Sa=t(P,2);Sa.__click=ja;var ee=t(Sa,2);ee.__click=Ra,s(Pa),be(2),D((o,v,g,m,j,sa,R,K,ra,S,ta,se,re,te,le,oe)=>{_($,o),f(za,`color: ${v??""}`),_(B,g),f(Ga,`color: ${m??""}`),_(L,j),f(Ma,`color: ${sa??""}`),_(E,R),f(Ua,`color: ${K??""}`),_(q,ra),f(Ja,`color: ${S??""}`),_(T,ta),f(Qa,`color: ${se??""}`),_(X,re),f(Va,`color: ${te??""}`),_(W,le),f(Ya,`color: ${oe??""}`),qa(Z,e(r).hideWifiIcon),qa(N,e(r).hideProfileIndicator),P.disabled=e(F)},[()=>i(e(r).bogey),()=>i(e(r).bogey),()=>i(e(r).freq),()=>i(e(r).freq),()=>i(e(r).bandL),()=>i(e(r).bandL),()=>i(e(r).bandKa),()=>i(e(r).bandKa),()=>i(e(r).bandK),()=>i(e(r).bandK),()=>i(e(r).bandX),()=>i(e(r).bandX),()=>i(e(r).arrow),()=>i(e(r).arrow),()=>i(e(r).wifiIcon),()=>i(e(r).wifiIcon)]),h(a,n)};la(Da,a=>{e(C)?a(Oa):a(Ha,!1)})}s(O),h(y,O),ve()}fe(["click","change"]);export{Le as component};
