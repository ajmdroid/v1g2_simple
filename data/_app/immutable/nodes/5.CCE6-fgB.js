import{f as w,a as y,t as Na}from"../chunks/U3VcC_BH.js";import{o as ae}from"../chunks/kg85IUNc.js";import{B as Fa,p as ee,s as P,a as se,b as re,e as l,d as r,c,g as e,r as s,t as O,f as te,n as Ka}from"../chunks/BaBLp7YP.js";import{d as le,s as Ca}from"../chunks/k6lnPJFt.js";import{i as ea}from"../chunks/B27jU-Np.js";import{e as Ia,i as $a}from"../chunks/Nfi6ovxQ.js";import{r as u,b as f}from"../chunks/CWJArIwe.js";import{t as oe,s as ne}from"../chunks/CJZ8LQ5g.js";function b(h,I,t,$){var F=h.__style;if(Fa||F!==I){var d=oe(I);(!Fa||d!==h.getAttribute("style"))&&(d==null?h.removeAttribute("style"):h.style.cssText=d),h.__style=I}return $}var ie=w('<div><span> </span> <button class="btn btn-ghost btn-xs">âœ•</button></div>'),de=w('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),ce=w('<div class="form-control"><label class="label py-1"><span class="label-text text-xs"> </span></label> <div class="flex flex-col items-center gap-1"><input type="color" class="w-10 h-8 cursor-pointer rounded border-0"/> <div class="w-8 h-3 rounded"></div></div></div>'),ve=w('<div class="w-12 h-2 rounded"></div>'),pe=w('<span class="loading loading-spinner loading-sm"></span>'),be=w('<div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Counter & Frequency</h2> <div class="grid grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Bogey Counter</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">1.</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Frequency Display</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">35.5</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Band Indicators</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="form-control"><label class="label"><span class="label-text">Laser (L)</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">L</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Ka Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">Ka</span></div></div> <div class="form-control"><label class="label"><span class="label-text">K Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">K</span></div></div> <div class="form-control"><label class="label"><span class="label-text">X Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">X</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Direction Arrows</h2> <div class="form-control"><label class="label"><span class="label-text">Arrow Color</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">â–² â–¼</span></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Status Indicators</h2> <div class="form-control"><label class="label"><span class="label-text">WiFi Icon</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">ðŸ“¶</span></div> <label class="label"><span class="label-text-alt text-base-content/50">Shown when connected to WiFi</span></label></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Signal Bars</h2> <p class="text-xs text-base-content/50 mb-2">Bar 1 = weakest, Bar 6 = strongest</p> <div class="grid grid-cols-3 md:grid-cols-6 gap-2"></div> <div class="flex justify-center mt-3"><div class="flex flex-col-reverse gap-1"></div></div></div></div> <div class="flex gap-3"><button class="btn btn-primary flex-1"><!></button> <button class="btn btn-outline">ðŸ”„ Reset Defaults</button></div> <div class="text-xs text-base-content/40 text-center">Colors use RGB565 format for the display. Changes apply on next alert.</div>',1),xe=w('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Display Colors</h1> <p class="text-sm text-base-content/60">Customize alert colors</p></div></div> <!> <!></div>');function Fe(h,I){ee(I,!0);let t=P(se({bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488})),$=P(!0),F=P(!1),d=P(null);ae(async()=>{await ka()});async function ka(){c($,!0);try{const a=await fetch("/api/displaycolors");if(a.ok){const i=await a.json();c(t,i,!0)}}catch{c(d,{type:"error",text:"Failed to load colors"},!0)}finally{c($,!1)}}function n(a){const i=(a>>11&31)<<3,p=(a>>5&63)<<2,_=(a&31)<<3;return"#"+[i,p,_].map(K=>K.toString(16).padStart(2,"0")).join("")}function Ba(a){const i=parseInt(a.slice(1,3),16)>>3,p=parseInt(a.slice(3,5),16)>>2,_=parseInt(a.slice(5,7),16)>>3;return i<<11|p<<5|_}function x(a,i){e(t)[a]=Ba(i)}async function La(){c(F,!0),c(d,null);try{const a=new URLSearchParams;a.append("bogey",e(t).bogey),a.append("freq",e(t).freq),a.append("arrow",e(t).arrow),a.append("bandL",e(t).bandL),a.append("bandKa",e(t).bandKa),a.append("bandK",e(t).bandK),a.append("bandX",e(t).bandX),a.append("wifiIcon",e(t).wifiIcon),a.append("bar1",e(t).bar1),a.append("bar2",e(t).bar2),a.append("bar3",e(t).bar3),a.append("bar4",e(t).bar4),a.append("bar5",e(t).bar5),a.append("bar6",e(t).bar6),(await fetch("/api/displaycolors",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a})).ok?c(d,{type:"success",text:"Colors saved! Display will update on next alert."},!0):c(d,{type:"error",text:"Failed to save colors"},!0)}catch{c(d,{type:"error",text:"Connection error"},!0)}finally{c(F,!1)}}async function Ea(){if(confirm("Reset all colors to defaults?"))try{(await fetch("/api/displaycolors/reset",{method:"POST"})).ok&&(c(t,{bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488},!0),c(d,{type:"success",text:"Colors reset to defaults!"},!0))}catch{c(d,{type:"error",text:"Failed to reset"},!0)}}var W=xe(),sa=l(r(W),2);{var qa=a=>{var i=ie(),p=r(i),_=r(p,!0);s(p);var K=l(p,2);K.__click=()=>c(d,null),s(i),O(()=>{ne(i,1,`alert alert-${e(d).type==="error"?"error":"success"}`),Ca(_,e(d).text)}),y(a,i)};ea(sa,a=>{e(d)&&a(qa)})}var Sa=l(sa,2);{var Xa=a=>{var i=de();y(a,i)},Da=a=>{var i=be(),p=te(i),_=r(p),K=l(r(_),2),z=r(K),ra=l(r(z),2),L=r(ra);u(L),L.__change=o=>x("bogey",o.target.value);var Ta=l(L,2);s(ra),s(z);var ta=l(z,2),la=l(r(ta),2),E=r(la);u(E),E.__change=o=>x("freq",o.target.value);var ja=l(E,2);s(la),s(ta),s(K),s(_),s(p);var G=l(p,2),oa=r(G),na=l(r(oa),2),H=r(na),ia=l(r(H),2),q=r(ia);u(q),q.__change=o=>x("bandL",o.target.value);var Ra=l(q,2);s(ia),s(H);var M=l(H,2),da=l(r(M),2),S=r(da);u(S),S.__change=o=>x("bandKa",o.target.value);var Aa=l(S,2);s(da),s(M);var U=l(M,2),ca=l(r(U),2),X=r(ca);u(X),X.__change=o=>x("bandK",o.target.value);var Pa=l(X,2);s(ca),s(U);var va=l(U,2),pa=l(r(va),2),D=r(pa);u(D),D.__change=o=>x("bandX",o.target.value);var Oa=l(D,2);s(pa),s(va),s(na),s(oa),s(G);var J=l(G,2),ba=r(J),xa=l(r(ba),2),ua=l(r(xa),2),T=r(ua);u(T),T.__change=o=>x("arrow",o.target.value);var Wa=l(T,2);s(ua),s(xa),s(ba),s(J);var Q=l(J,2),fa=r(Q),_a=l(r(fa),2),ga=l(r(_a),2),j=r(ga);u(j),j.__change=o=>x("wifiIcon",o.target.value);var za=l(j,2);s(ga),Ka(2),s(_a),s(fa),s(Q);var V=l(Q,2),ya=r(V),Y=l(r(ya),4);Ia(Y,20,()=>[1,2,3,4,5,6],$a,(o,v)=>{var g=ce(),m=r(g),R=r(m),Z=r(R);s(R),s(m);var A=l(m,2),C=r(A);u(C),C.__change=B=>x(`bar${v}`,B.target.value);var N=l(C,2);s(A),s(g),O((B,aa)=>{Ca(Z,`Bar ${v??""}`),f(C,B),b(N,`background-color: ${aa??""}`)},[()=>n(e(t)[`bar${v}`]),()=>n(e(t)[`bar${v}`])]),y(o,g)}),s(Y);var ha=l(Y,2),ma=r(ha);Ia(ma,20,()=>[1,2,3,4,5,6],$a,(o,v)=>{var g=ve();O(m=>b(g,`background-color: ${m??""}`),[()=>n(e(t)[`bar${v}`])]),y(o,g)}),s(ma),s(ha),s(ya),s(V);var wa=l(V,2),k=r(wa);k.__click=La;var Ga=r(k);{var Ha=o=>{var v=pe();y(o,v)},Ma=o=>{var v=Na("ðŸ’¾ Save Colors");y(o,v)};ea(Ga,o=>{e(F)?o(Ha):o(Ma,!1)})}s(k);var Ua=l(k,2);Ua.__click=Ea,s(wa),Ka(2),O((o,v,g,m,R,Z,A,C,N,B,aa,Ja,Qa,Va,Ya,Za)=>{f(L,o),b(Ta,`color: ${v??""}`),f(E,g),b(ja,`color: ${m??""}`),f(q,R),b(Ra,`color: ${Z??""}`),f(S,A),b(Aa,`color: ${C??""}`),f(X,N),b(Pa,`color: ${B??""}`),f(D,aa),b(Oa,`color: ${Ja??""}`),f(T,Qa),b(Wa,`color: ${Va??""}`),f(j,Ya),b(za,`color: ${Za??""}`),k.disabled=e(F)},[()=>n(e(t).bogey),()=>n(e(t).bogey),()=>n(e(t).freq),()=>n(e(t).freq),()=>n(e(t).bandL),()=>n(e(t).bandL),()=>n(e(t).bandKa),()=>n(e(t).bandKa),()=>n(e(t).bandK),()=>n(e(t).bandK),()=>n(e(t).bandX),()=>n(e(t).bandX),()=>n(e(t).arrow),()=>n(e(t).arrow),()=>n(e(t).wifiIcon),()=>n(e(t).wifiIcon)]),y(a,i)};ea(Sa,a=>{e($)?a(Xa):a(Da,!1)})}s(W),y(h,W),re()}le(["click","change"]);export{Fe as component};
