import{f as F,a as h,t as ie}from"../chunks/BAToY3dM.js";import{o as ne}from"../chunks/tgyn-xxr.js";import{w as $a,p as ce,s as R,a as de,b as ve,e as t,d as l,c as d,g as e,r,t as A,f as pe,n as be}from"../chunks/fsS-m6VO.js";import{d as fe,s as La}from"../chunks/DKvjqhBm.js";import{i as la}from"../chunks/DGklRumq.js";import{e as Ba,i as qa}from"../chunks/BzWd8bhm.js";import{r as b,b as _,a as Ea,s as ue}from"../chunks/DtA2OqT-.js";import{t as _e,s as xe}from"../chunks/DOhhwrM8.js";function f(y,k,s,C){var I=y.__style;if($a||I!==k){var c=_e(k);(!$a||c!==y.getAttribute("style"))&&(c==null?y.removeAttribute("style"):y.style.cssText=c),y.__style=k}return C}var ge=F('<div role="status" aria-live="polite"><span> </span> <button class="btn btn-ghost btn-xs" aria-label="Dismiss message">‚úï</button></div>'),he=F('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),ye=F('<div class="form-control"><label class="label py-1"><span class="label-text text-xs"> </span></label> <div class="flex flex-col items-center gap-1"><input type="color" class="w-10 h-8 cursor-pointer rounded border-0"/> <div class="w-8 h-3 rounded"></div></div></div>'),me=F('<div class="w-12 h-2 rounded"></div>'),we=F('<span class="loading loading-spinner loading-sm"></span>'),Fe=F('<div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Counter & Frequency</h2> <div class="grid grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Bogey Counter</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="Bogey counter color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">1.</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Frequency Display</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="Frequency display color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">35.5</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Band Indicators</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="form-control"><label class="label"><span class="label-text">Laser (L)</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="Laser band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">L</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Ka Band</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="Ka band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">Ka</span></div></div> <div class="form-control"><label class="label"><span class="label-text">K Band</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="K band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">K</span></div></div> <div class="form-control"><label class="label"><span class="label-text">X Band</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="X band color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">X</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Direction Arrows</h2> <div class="form-control"><label class="label"><span class="label-text">Arrow Color</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="Direction arrow color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">‚ñ≤ ‚ñº</span></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Status Indicators</h2> <div class="form-control"><label class="label"><span class="label-text">WiFi Icon</span></label> <div class="flex items-center gap-3"><input type="color" aria-label="WiFi icon color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">üì∂</span></div></div> <div class="divider my-2"></div> <div class="form-control"><label class="label cursor-pointer"><div><span class="label-text">Hide WiFi Icon</span> <p class="text-xs text-base-content/50">Show briefly on connect, then hide</p></div> <input type="checkbox" class="toggle toggle-primary"/></label></div> <div class="form-control"><label class="label cursor-pointer"><div><span class="label-text">Hide Profile Indicator</span> <p class="text-xs text-base-content/50">Show on profile change, then hide</p></div> <input type="checkbox" class="toggle toggle-primary"/></label></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Signal Bars</h2> <p class="text-xs text-base-content/50 mb-2">Bar 1 = weakest, Bar 6 = strongest</p> <div class="grid grid-cols-3 md:grid-cols-6 gap-2"></div> <div class="flex justify-center mt-3"><div class="flex flex-col-reverse gap-1"></div></div></div></div> <div class="flex gap-3"><button class="btn btn-primary flex-1"><!></button> <button class="btn btn-secondary">üëÅÔ∏è Preview</button> <button class="btn btn-outline">üîÑ Reset</button></div> <div class="text-xs text-base-content/40 text-center">Colors use RGB565 format. Save triggers a preview on the display.</div>',1),Ie=F('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Display Colors</h1> <p class="text-sm text-base-content/60">Customize alert colors</p></div></div> <!> <!></div>');function qe(y,k){ce(k,!0);let s=R(de({bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488,hideWifiIcon:!1,hideProfileIndicator:!1})),C=R(!0),I=R(!1),c=R(null);ne(async()=>{await Xa()});async function Xa(){d(C,!0);try{const a=await fetch("/api/displaycolors");if(a.ok){const n=await a.json();d(s,n,!0)}}catch{d(c,{type:"error",text:"Failed to load colors"},!0)}finally{d(C,!1)}}function i(a){const n=(a>>11&31)<<3,p=(a>>5&63)<<2,x=(a&31)<<3;return"#"+[n,p,x].map(K=>K.toString(16).padStart(2,"0")).join("")}function Ta(a){const n=parseInt(a.slice(1,3),16)>>3,p=parseInt(a.slice(3,5),16)>>2,x=parseInt(a.slice(5,7),16)>>3;return n<<11|p<<5|x}function u(a,n){e(s)[a]=Ta(n)}async function Wa(){d(I,!0),d(c,null);try{const a=new URLSearchParams;a.append("bogey",e(s).bogey),a.append("freq",e(s).freq),a.append("arrow",e(s).arrow),a.append("bandL",e(s).bandL),a.append("bandKa",e(s).bandKa),a.append("bandK",e(s).bandK),a.append("bandX",e(s).bandX),a.append("wifiIcon",e(s).wifiIcon),a.append("bar1",e(s).bar1),a.append("bar2",e(s).bar2),a.append("bar3",e(s).bar3),a.append("bar4",e(s).bar4),a.append("bar5",e(s).bar5),a.append("bar6",e(s).bar6),a.append("hideWifiIcon",e(s).hideWifiIcon),a.append("hideProfileIndicator",e(s).hideProfileIndicator),(await fetch("/api/displaycolors",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a})).ok?(d(c,{type:"success",text:"Colors saved! Previewing on display..."},!0),setTimeout(()=>{fetch("/api/displaycolors/clear",{method:"POST"}).catch(()=>{})},3e3)):d(c,{type:"error",text:"Failed to save colors"},!0)}catch{d(c,{type:"error",text:"Connection error"},!0)}finally{d(I,!1)}}async function Da(){try{await fetch("/api/displaycolors/preview",{method:"POST"})}catch{}}async function ja(){if(confirm("Reset all colors to defaults?"))try{(await fetch("/api/displaycolors/reset",{method:"POST"})).ok&&(d(s,{bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488,hideWifiIcon:!1,hideProfileIndicator:!1},!0),d(c,{type:"success",text:"Colors reset to defaults!"},!0))}catch{d(c,{type:"error",text:"Failed to reset"},!0)}}var O=Ie(),oa=t(l(O),2);{var Ra=a=>{var n=ge(),p=l(n),x=l(p,!0);r(p);var K=t(p,2);K.__click=()=>d(c,null),r(n),A(()=>{xe(n,1,`alert alert-${e(c).type==="error"?"error":"success"}`),La(x,e(c).text)}),h(a,n)};la(oa,a=>{e(c)&&a(Ra)})}var Aa=t(oa,2);{var Oa=a=>{var n=he();h(a,n)},Ha=a=>{var n=Fe(),p=pe(n),x=l(p),K=t(l(x),2),H=l(K),ia=t(l(H),2),$=l(ia);b($),$.__change=o=>u("bogey",o.target.value);var za=t($,2);r(ia),r(H);var na=t(H,2),ca=t(l(na),2),L=l(ca);b(L),L.__change=o=>u("freq",o.target.value);var Ga=t(L,2);r(ca),r(na),r(K),r(x),r(p);var z=t(p,2),da=l(z),va=t(l(da),2),G=l(va),pa=t(l(G),2),B=l(pa);b(B),B.__change=o=>u("bandL",o.target.value);var Ma=t(B,2);r(pa),r(G);var M=t(G,2),ba=t(l(M),2),q=l(ba);b(q),q.__change=o=>u("bandKa",o.target.value);var Ua=t(q,2);r(ba),r(M);var U=t(M,2),fa=t(l(U),2),E=l(fa);b(E),E.__change=o=>u("bandK",o.target.value);var Ja=t(E,2);r(fa),r(U);var ua=t(U,2),_a=t(l(ua),2),X=l(_a);b(X),X.__change=o=>u("bandX",o.target.value);var Qa=t(X,2);r(_a),r(ua),r(va),r(da),r(z);var J=t(z,2),xa=l(J),ga=t(l(xa),2),ha=t(l(ga),2),T=l(ha);b(T),T.__change=o=>u("arrow",o.target.value);var Va=t(T,2);r(ha),r(ga),r(xa),r(J);var Q=t(J,2),ya=l(Q),V=t(l(ya),2),ma=t(l(V),2),W=l(ma);b(W),W.__change=o=>u("wifiIcon",o.target.value);var Ya=t(W,2);r(ma),r(V);var Y=t(V,4),wa=l(Y),Z=t(l(wa),2);b(Z),Z.__change=o=>e(s).hideWifiIcon=o.target.checked,r(wa),r(Y);var Fa=t(Y,2),Ia=l(Fa),N=t(l(Ia),2);b(N),N.__change=o=>e(s).hideProfileIndicator=o.target.checked,r(Ia),r(Fa),r(ya),r(Q);var aa=t(Q,2),Ka=l(aa),ea=t(l(Ka),4);Ba(ea,20,()=>[1,2,3,4,5,6],qa,(o,v)=>{var g=ye(),m=l(g),D=l(m),ra=l(D);r(D),r(m);var j=t(m,2),w=l(j);b(w),w.__change=S=>u(`bar${v}`,S.target.value);var sa=t(w,2);r(j),r(g),A((S,ta)=>{La(ra,`Bar ${v??""}`),ue(w,"aria-label",`Signal bar ${v??""} color`),_(w,S),f(sa,`background-color: ${ta??""}`)},[()=>i(e(s)[`bar${v}`]),()=>i(e(s)[`bar${v}`])]),h(o,g)}),r(ea);var ka=t(ea,2),Ca=l(ka);Ba(Ca,20,()=>[1,2,3,4,5,6],qa,(o,v)=>{var g=me();A(m=>f(g,`background-color: ${m??""}`),[()=>i(e(s)[`bar${v}`])]),h(o,g)}),r(Ca),r(ka),r(Ka),r(aa);var Pa=t(aa,2),P=l(Pa);P.__click=Wa;var Za=l(P);{var Na=o=>{var v=we();h(o,v)},ae=o=>{var v=ie("üíæ Save Colors");h(o,v)};la(Za,o=>{e(I)?o(Na):o(ae,!1)})}r(P);var Sa=t(P,2);Sa.__click=Da;var ee=t(Sa,2);ee.__click=ja,r(Pa),be(2),A((o,v,g,m,D,ra,j,w,sa,S,ta,re,se,te,le,oe)=>{_($,o),f(za,`color: ${v??""}`),_(L,g),f(Ga,`color: ${m??""}`),_(B,D),f(Ma,`color: ${ra??""}`),_(q,j),f(Ua,`color: ${w??""}`),_(E,sa),f(Ja,`color: ${S??""}`),_(X,ta),f(Qa,`color: ${re??""}`),_(T,se),f(Va,`color: ${te??""}`),_(W,le),f(Ya,`color: ${oe??""}`),Ea(Z,e(s).hideWifiIcon),Ea(N,e(s).hideProfileIndicator),P.disabled=e(I)},[()=>i(e(s).bogey),()=>i(e(s).bogey),()=>i(e(s).freq),()=>i(e(s).freq),()=>i(e(s).bandL),()=>i(e(s).bandL),()=>i(e(s).bandKa),()=>i(e(s).bandKa),()=>i(e(s).bandK),()=>i(e(s).bandK),()=>i(e(s).bandX),()=>i(e(s).bandX),()=>i(e(s).arrow),()=>i(e(s).arrow),()=>i(e(s).wifiIcon),()=>i(e(s).wifiIcon)]),h(a,n)};la(Aa,a=>{e(C)?a(Oa):a(Ha,!1)})}r(O),h(y,O),ve()}fe(["click","change"]);export{qe as component};
