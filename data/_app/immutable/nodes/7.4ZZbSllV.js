import{f as u,a as v,c as G}from"../chunks/U3VcC_BH.js";import{o as dt}from"../chunks/kg85IUNc.js";import{p as vt,s as P,a as ct,d as s,t as C,b as lt,c as i,e as n,r,g as a,n as ft,f as H}from"../chunks/BaBLp7YP.js";import{d as pt,s as p}from"../chunks/k6lnPJFt.js";import{i as V}from"../chunks/B27jU-Np.js";import{e as ut,i as _t}from"../chunks/Nfi6ovxQ.js";import{s as I}from"../chunks/CJZ8LQ5g.js";var bt=u("<div><span> </span></div>"),mt=u('<p class="text-warning">Connect to V1 to view/edit settings</p>'),xt=u('<div class="grid grid-cols-2 gap-2 text-sm"><div> </div> <div> </div> <div> </div> <div> </div></div>'),gt=u('<div class="flex justify-center p-4"><span class="loading loading-spinner"></span></div>'),yt=u('<p class="text-base-content/60">No saved profiles. Pull settings from V1 to create one.</p>'),ht=u('<div class="flex justify-between items-center p-3 bg-base-300 rounded-lg"><div><div class="font-medium"> </div> <div class="text-xs text-base-content/60"> </div></div> <div class="flex gap-2"><button class="btn btn-primary btn-xs">â¬†ï¸ Push</button> <button class="btn btn-error btn-xs btn-outline">ğŸ—‘ï¸</button></div></div>'),wt=u('<div class="space-y-2"></div>'),Pt=u('<div class="space-y-6"><div class="flex justify-between items-center"><h1 class="text-2xl font-bold">V1 Profiles</h1> <div> </div></div> <!> <div class="card bg-base-200"><div class="card-body"><h2 class="card-title">ğŸ“¡ Current V1 Settings</h2> <!> <div class="card-actions justify-end"><button class="btn btn-primary btn-sm">â¬‡ï¸ Pull from V1</button></div></div></div> <div class="card bg-base-200"><div class="card-body"><h2 class="card-title">ğŸ’¾ Saved Profiles</h2> <!></div></div> <div class="text-sm text-base-content/50"><p><strong>Pull:</strong> Read current V1 settings and save as a profile</p> <p><strong>Push:</strong> Send saved profile settings to your V1</p></div></div>');function Et(J,N){vt(N,!0);let g=P(ct([])),x=P(null),$=P(!0),_=P(!1),o=P(null);dt(async()=>{await Q(),await K()});async function Q(){try{const t=await fetch("/api/v1/profiles");if(t.ok){const e=await t.json();i(g,e.profiles||[],!0)}}catch{console.error("Failed to fetch profiles")}finally{i($,!1)}}async function K(){try{const t=await fetch("/api/v1/current");if(t.ok){const e=await t.json();i(x,e,!0),i(_,e.connected||!1,!0)}}catch{i(_,!1)}}async function U(){i(o,{type:"info",text:"Pulling settings from V1..."},!0);try{(await fetch("/api/v1/pull",{method:"POST"})).ok?(i(o,{type:"success",text:"Settings pulled from V1"},!0),await K()):i(o,{type:"error",text:"Failed to pull settings"},!0)}catch{i(o,{type:"error",text:"Connection error"},!0)}}async function W(t){i(o,{type:"info",text:`Pushing ${t} to V1...`},!0);try{const e=new FormData;e.append("name",t),(await fetch("/api/v1/push",{method:"POST",body:e})).ok?i(o,{type:"success",text:`${t} pushed to V1`},!0):i(o,{type:"error",text:"Failed to push profile"},!0)}catch{i(o,{type:"error",text:"Connection error"},!0)}}async function Y(t){if(confirm(`Delete profile "${t}"?`))try{const e=new FormData;e.append("name",t),(await fetch("/api/v1/profile/delete",{method:"POST",body:e})).ok&&(i(g,a(g).filter(b=>b.name!==t),!0),i(o,{type:"success",text:"Profile deleted"},!0))}catch{i(o,{type:"error",text:"Failed to delete"},!0)}}var F=Pt(),j=s(F),D=n(s(j),2),Z=s(D,!0);r(D),r(j);var L=n(j,2);{var tt=t=>{var e=bt(),l=s(e),b=s(l,!0);r(l),r(e),C(()=>{I(e,1,`alert alert-${a(o).type==="error"?"error":a(o).type==="success"?"success":"info"}`),p(b,a(o).text)}),v(t,e)};V(L,t=>{a(o)&&t(tt)})}var E=n(L,2),M=s(E),R=n(s(M),2);{var et=t=>{var e=mt();v(t,e)},at=t=>{var e=G(),l=H(e);{var b=y=>{var d=xt(),c=s(d),T=s(c);r(c);var f=n(c,2),h=s(f);r(f);var m=n(f,2),w=s(m);r(m);var k=n(m,2),S=s(k);r(k),r(d),C(()=>{p(T,`Ka Enabled: ${a(x).ka?"âœ…":"âŒ"}`),p(h,`K Enabled: ${a(x).k?"âœ…":"âŒ"}`),p(w,`X Enabled: ${a(x).x?"âœ…":"âŒ"}`),p(S,`Laser Enabled: ${a(x).laser?"âœ…":"âŒ"}`)}),v(y,d)};V(l,y=>{a(x)&&y(b)},!0)}v(t,e)};V(R,t=>{a(_)?t(at,!1):t(et)})}var X=n(R,2),q=s(X);q.__click=U,r(X),r(M),r(E);var z=n(E,2),A=s(z),rt=n(s(A),2);{var st=t=>{var e=gt();v(t,e)},it=t=>{var e=G(),l=H(e);{var b=d=>{var c=yt();v(d,c)},y=d=>{var c=wt();ut(c,21,()=>a(g),_t,(T,f)=>{var h=ht(),m=s(h),w=s(m),k=s(w,!0);r(w);var S=n(w,2),ot=s(S,!0);r(S),r(m);var B=n(m,2),O=s(B);O.__click=()=>W(a(f).name);var nt=n(O,2);nt.__click=()=>Y(a(f).name),r(B),r(h),C(()=>{p(k,a(f).name),p(ot,a(f).description||"No description"),O.disabled=!a(_)}),v(T,h)}),r(c),v(d,c)};V(l,d=>{a(g).length===0?d(b):d(y,!1)},!0)}v(t,e)};V(rt,t=>{a($)?t(st):t(it,!1)})}r(A),r(z),ft(2),r(F),C(()=>{I(D,1,`badge ${a(_)?"badge-success":"badge-warning"}`),p(Z,a(_)?"V1 Connected":"V1 Disconnected"),q.disabled=!a(_)}),v(J,F),lt()}pt(["click"]);export{Et as component};
