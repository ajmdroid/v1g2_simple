import{f as w,a as y,t as ee}from"../chunks/U3VcC_BH.js";import{o as se}from"../chunks/kg85IUNc.js";import{B as Ka,p as re,s as D,a as te,b as le,e as r,d as t,c,g as e,r as s,t as O,f as oe,n as Ca}from"../chunks/BaBLp7YP.js";import{d as ne,s as Ia}from"../chunks/k6lnPJFt.js";import{i as ea}from"../chunks/B27jU-Np.js";import{e as ka,i as Sa}from"../chunks/Nfi6ovxQ.js";import{r as x,b as f}from"../chunks/CWJArIwe.js";import{t as ie,s as de}from"../chunks/CJZ8LQ5g.js";function b(h,I,l,k){var F=h.__style;if(Ka||F!==I){var d=ie(I);(!Ka||d!==h.getAttribute("style"))&&(d==null?h.removeAttribute("style"):h.style.cssText=d),h.__style=I}return k}var ce=w('<div><span> </span> <button class="btn btn-ghost btn-xs">‚úï</button></div>'),ve=w('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),pe=w('<div class="form-control"><label class="label py-1"><span class="label-text text-xs"> </span></label> <div class="flex flex-col items-center gap-1"><input type="color" class="w-10 h-8 cursor-pointer rounded border-0"/> <div class="w-8 h-3 rounded"></div></div></div>'),be=w('<div class="w-12 h-2 rounded"></div>'),ue=w('<span class="loading loading-spinner loading-sm"></span>'),xe=w('<div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Counter & Frequency</h2> <div class="grid grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Bogey Counter</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">1.</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Frequency Display</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">35.5</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Band Indicators</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="form-control"><label class="label"><span class="label-text">Laser (L)</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">L</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Ka Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">Ka</span></div></div> <div class="form-control"><label class="label"><span class="label-text">K Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">K</span></div></div> <div class="form-control"><label class="label"><span class="label-text">X Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">X</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Direction Arrows</h2> <div class="form-control"><label class="label"><span class="label-text">Arrow Color</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">‚ñ≤ ‚ñº</span></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Status Indicators</h2> <div class="form-control"><label class="label"><span class="label-text">WiFi Icon</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">üì∂</span></div> <label class="label"><span class="label-text-alt text-base-content/50">Shown when connected to WiFi</span></label></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Signal Bars</h2> <p class="text-xs text-base-content/50 mb-2">Bar 1 = weakest, Bar 6 = strongest</p> <div class="grid grid-cols-3 md:grid-cols-6 gap-2"></div> <div class="flex justify-center mt-3"><div class="flex flex-col-reverse gap-1"></div></div></div></div> <div class="flex gap-3"><button class="btn btn-primary flex-1"><!></button> <button class="btn btn-secondary">üëÅÔ∏è Preview</button> <button class="btn btn-outline">üîÑ Reset</button></div> <div class="text-xs text-base-content/40 text-center">Colors use RGB565 format. Save triggers a preview on the display.</div>',1),fe=w('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Display Colors</h1> <p class="text-sm text-base-content/60">Customize alert colors</p></div></div> <!> <!></div>');function Ce(h,I){re(I,!0);let l=D(te({bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488})),k=D(!0),F=D(!1),d=D(null);se(async()=>{await $a()});async function $a(){c(k,!0);try{const a=await fetch("/api/displaycolors");if(a.ok){const i=await a.json();c(l,i,!0)}}catch{c(d,{type:"error",text:"Failed to load colors"},!0)}finally{c(k,!1)}}function n(a){const i=(a>>11&31)<<3,p=(a>>5&63)<<2,_=(a&31)<<3;return"#"+[i,p,_].map(K=>K.toString(16).padStart(2,"0")).join("")}function Ba(a){const i=parseInt(a.slice(1,3),16)>>3,p=parseInt(a.slice(3,5),16)>>2,_=parseInt(a.slice(5,7),16)>>3;return i<<11|p<<5|_}function u(a,i){e(l)[a]=Ba(i)}async function La(){c(F,!0),c(d,null);try{const a=new URLSearchParams;a.append("bogey",e(l).bogey),a.append("freq",e(l).freq),a.append("arrow",e(l).arrow),a.append("bandL",e(l).bandL),a.append("bandKa",e(l).bandKa),a.append("bandK",e(l).bandK),a.append("bandX",e(l).bandX),a.append("wifiIcon",e(l).wifiIcon),a.append("bar1",e(l).bar1),a.append("bar2",e(l).bar2),a.append("bar3",e(l).bar3),a.append("bar4",e(l).bar4),a.append("bar5",e(l).bar5),a.append("bar6",e(l).bar6),(await fetch("/api/displaycolors",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a})).ok?(c(d,{type:"success",text:"Colors saved! Previewing on display..."},!0),setTimeout(()=>{fetch("/api/displaycolors/clear",{method:"POST"}).catch(()=>{})},3e3)):c(d,{type:"error",text:"Failed to save colors"},!0)}catch{c(d,{type:"error",text:"Connection error"},!0)}finally{c(F,!1)}}async function Ea(){try{await fetch("/api/displaycolors/preview",{method:"POST"})}catch{}}async function qa(){if(confirm("Reset all colors to defaults?"))try{(await fetch("/api/displaycolors/reset",{method:"POST"})).ok&&(c(l,{bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016,wifiIcon:2047,bar1:2016,bar2:2016,bar3:65504,bar4:65504,bar5:63488,bar6:63488},!0),c(d,{type:"success",text:"Colors reset to defaults!"},!0))}catch{c(d,{type:"error",text:"Failed to reset"},!0)}}var W=fe(),sa=r(t(W),2);{var Ta=a=>{var i=ce(),p=t(i),_=t(p,!0);s(p);var K=r(p,2);K.__click=()=>c(d,null),s(i),O(()=>{de(i,1,`alert alert-${e(d).type==="error"?"error":"success"}`),Ia(_,e(d).text)}),y(a,i)};ea(sa,a=>{e(d)&&a(Ta)})}var Xa=r(sa,2);{var Pa=a=>{var i=ve();y(a,i)},ja=a=>{var i=xe(),p=oe(i),_=t(p),K=r(t(_),2),z=t(K),ra=r(t(z),2),B=t(ra);x(B),B.__change=o=>u("bogey",o.target.value);var Ra=r(B,2);s(ra),s(z);var ta=r(z,2),la=r(t(ta),2),L=t(la);x(L),L.__change=o=>u("freq",o.target.value);var Aa=r(L,2);s(la),s(ta),s(K),s(_),s(p);var G=r(p,2),oa=t(G),na=r(t(oa),2),H=t(na),ia=r(t(H),2),E=t(ia);x(E),E.__change=o=>u("bandL",o.target.value);var Da=r(E,2);s(ia),s(H);var M=r(H,2),da=r(t(M),2),q=t(da);x(q),q.__change=o=>u("bandKa",o.target.value);var Oa=r(q,2);s(da),s(M);var U=r(M,2),ca=r(t(U),2),T=t(ca);x(T),T.__change=o=>u("bandK",o.target.value);var Wa=r(T,2);s(ca),s(U);var va=r(U,2),pa=r(t(va),2),X=t(pa);x(X),X.__change=o=>u("bandX",o.target.value);var za=r(X,2);s(pa),s(va),s(na),s(oa),s(G);var J=r(G,2),ba=t(J),ua=r(t(ba),2),xa=r(t(ua),2),P=t(xa);x(P),P.__change=o=>u("arrow",o.target.value);var Ga=r(P,2);s(xa),s(ua),s(ba),s(J);var Q=r(J,2),fa=t(Q),_a=r(t(fa),2),ga=r(t(_a),2),j=t(ga);x(j),j.__change=o=>u("wifiIcon",o.target.value);var Ha=r(j,2);s(ga),Ca(2),s(_a),s(fa),s(Q);var V=r(Q,2),ya=t(V),Y=r(t(ya),4);ka(Y,20,()=>[1,2,3,4,5,6],Sa,(o,v)=>{var g=pe(),m=t(g),R=t(m),Z=t(R);s(R),s(m);var A=r(m,2),C=t(A);x(C),C.__change=$=>u(`bar${v}`,$.target.value);var N=r(C,2);s(A),s(g),O(($,aa)=>{Ia(Z,`Bar ${v??""}`),f(C,$),b(N,`background-color: ${aa??""}`)},[()=>n(e(l)[`bar${v}`]),()=>n(e(l)[`bar${v}`])]),y(o,g)}),s(Y);var ha=r(Y,2),ma=t(ha);ka(ma,20,()=>[1,2,3,4,5,6],Sa,(o,v)=>{var g=be();O(m=>b(g,`background-color: ${m??""}`),[()=>n(e(l)[`bar${v}`])]),y(o,g)}),s(ma),s(ha),s(ya),s(V);var wa=r(V,2),S=t(wa);S.__click=La;var Ma=t(S);{var Ua=o=>{var v=ue();y(o,v)},Ja=o=>{var v=ee("üíæ Save Colors");y(o,v)};ea(Ma,o=>{e(F)?o(Ua):o(Ja,!1)})}s(S);var Fa=r(S,2);Fa.__click=Ea;var Qa=r(Fa,2);Qa.__click=qa,s(wa),Ca(2),O((o,v,g,m,R,Z,A,C,N,$,aa,Va,Ya,Za,Na,ae)=>{f(B,o),b(Ra,`color: ${v??""}`),f(L,g),b(Aa,`color: ${m??""}`),f(E,R),b(Da,`color: ${Z??""}`),f(q,A),b(Oa,`color: ${C??""}`),f(T,N),b(Wa,`color: ${$??""}`),f(X,aa),b(za,`color: ${Va??""}`),f(P,Ya),b(Ga,`color: ${Za??""}`),f(j,Na),b(Ha,`color: ${ae??""}`),S.disabled=e(F)},[()=>n(e(l).bogey),()=>n(e(l).bogey),()=>n(e(l).freq),()=>n(e(l).freq),()=>n(e(l).bandL),()=>n(e(l).bandL),()=>n(e(l).bandKa),()=>n(e(l).bandKa),()=>n(e(l).bandK),()=>n(e(l).bandK),()=>n(e(l).bandX),()=>n(e(l).bandX),()=>n(e(l).arrow),()=>n(e(l).arrow),()=>n(e(l).wifiIcon),()=>n(e(l).wifiIcon)]),y(a,i)};ea(Xa,a=>{e(k)?a(Pa):a(ja,!1)})}s(W),y(h,W),le()}ne(["click","change"]);export{Ce as component};
