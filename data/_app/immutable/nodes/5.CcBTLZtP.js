import{f as C,a as m,t as Aa}from"../chunks/1ZEEC1aE.js";import{o as Ia}from"../chunks/DHFf7YG-.js";import{x as ta,p as $a,s as T,a as Pa,b as Ea,e,d as t,c,g as s,r,t as ra,f as Oa,n as za}from"../chunks/PoKKVn1N.js";import{d as Ga,s as Ha}from"../chunks/DHzTuNLl.js";import{i as O}from"../chunks/rWxm_ysu.js";import{r as f,a as _}from"../chunks/B7dn3pOh.js";import{t as Ma,s as Ua}from"../chunks/CpN-IDdQ.js";function x(b,h,l,w){var g=b.__style;if(ta||g!==h){var i=Ma(h);(!ta||i!==b.getAttribute("style"))&&(i==null?b.removeAttribute("style"):b.style.cssText=i),b.__style=h}return w}var Ja=C('<div><span> </span> <button class="btn btn-ghost btn-xs">âœ•</button></div>'),Na=C('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),Qa=C('<span class="loading loading-spinner loading-sm"></span>'),Va=C('<div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Counter & Frequency</h2> <div class="grid grid-cols-2 gap-4"><div class="form-control"><label class="label"><span class="label-text">Bogey Counter</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">1.</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Frequency Display</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold font-mono">35.5</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Band Indicators</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="form-control"><label class="label"><span class="label-text">Laser (L)</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">L</span></div></div> <div class="form-control"><label class="label"><span class="label-text">Ka Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">Ka</span></div></div> <div class="form-control"><label class="label"><span class="label-text">K Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">K</span></div></div> <div class="form-control"><label class="label"><span class="label-text">X Band</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">X</span></div></div></div></div></div> <div class="card bg-base-200"><div class="card-body p-4"><h2 class="card-title text-lg">Direction Arrows</h2> <div class="form-control"><label class="label"><span class="label-text">Arrow Color</span></label> <div class="flex items-center gap-3"><input type="color" class="w-12 h-10 cursor-pointer rounded border-0"/> <span class="text-2xl font-bold">â–² â–¼</span></div></div></div></div> <div class="flex gap-3"><button class="btn btn-primary flex-1"><!></button> <button class="btn btn-outline">ðŸ”„ Reset Defaults</button></div> <div class="text-xs text-base-content/40 text-center">Colors use RGB565 format for the display. Changes apply on next alert.</div>',1),Wa=C('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Display Colors</h1> <p class="text-sm text-base-content/60">Customize alert colors</p></div></div> <!> <!></div>');function le(b,h){$a(h,!0);let l=T(Pa({bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016})),w=T(!0),g=T(!1),i=T(null);Ia(async()=>{await la()});async function la(){c(w,!0);try{const a=await fetch("/api/displaycolors");if(a.ok){const n=await a.json();c(l,n,!0)}}catch{c(i,{type:"error",text:"Failed to load colors"},!0)}finally{c(w,!1)}}function d(a){const n=(a>>11&31)<<3,v=(a>>5&63)<<2,p=(a&31)<<3;return"#"+[n,v,p].map(y=>y.toString(16).padStart(2,"0")).join("")}function oa(a){const n=parseInt(a.slice(1,3),16)>>3,v=parseInt(a.slice(3,5),16)>>2,p=parseInt(a.slice(5,7),16)>>3;return n<<11|v<<5|p}function u(a,n){s(l)[a]=oa(n)}async function na(){c(g,!0),c(i,null);try{const a=new URLSearchParams;a.append("bogey",s(l).bogey),a.append("freq",s(l).freq),a.append("arrow",s(l).arrow),a.append("bandL",s(l).bandL),a.append("bandKa",s(l).bandKa),a.append("bandK",s(l).bandK),a.append("bandX",s(l).bandX),(await fetch("/api/displaycolors",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a})).ok?c(i,{type:"success",text:"Colors saved! Display will update on next alert."},!0):c(i,{type:"error",text:"Failed to save colors"},!0)}catch{c(i,{type:"error",text:"Connection error"},!0)}finally{c(g,!1)}}async function ia(){if(confirm("Reset all colors to defaults?"))try{(await fetch("/api/displaycolors/reset",{method:"POST"})).ok&&(c(l,{bogey:63488,freq:63488,arrow:63488,bandL:31,bandKa:63488,bandK:31,bandX:2016},!0),c(i,{type:"success",text:"Colors reset to defaults!"},!0))}catch{c(i,{type:"error",text:"Failed to reset"},!0)}}var R=Wa(),z=e(t(R),2);{var da=a=>{var n=Ja(),v=t(n),p=t(v,!0);r(v);var y=e(v,2);y.__click=()=>c(i,null),r(n),ra(()=>{Ua(n,1,`alert alert-${s(i).type==="error"?"error":"success"}`),Ha(p,s(i).text)}),m(a,n)};O(z,a=>{s(i)&&a(da)})}var ca=e(z,2);{var va=a=>{var n=Na();m(a,n)},pa=a=>{var n=Va(),v=Oa(n),p=t(v),y=e(t(p),2),j=t(y),G=e(t(j),2),L=t(G);f(L),L.__change=o=>u("bogey",o.target.value);var ba=e(L,2);r(G),r(j);var H=e(j,2),M=e(t(H),2),q=t(M);f(q),q.__change=o=>u("freq",o.target.value);var ua=e(q,2);r(M),r(H),r(y),r(p),r(v);var A=e(v,2),U=t(A),J=e(t(U),2),I=t(J),N=e(t(I),2),X=t(N);f(X),X.__change=o=>u("bandL",o.target.value);var fa=e(X,2);r(N),r(I);var $=e(I,2),Q=e(t($),2),k=t(Q);f(k),k.__change=o=>u("bandKa",o.target.value);var _a=e(k,2);r(Q),r($);var P=e($,2),V=e(t(P),2),B=t(V);f(B),B.__change=o=>u("bandK",o.target.value);var xa=e(B,2);r(V),r(P);var W=e(P,2),Y=e(t(W),2),D=t(Y);f(D),D.__change=o=>u("bandX",o.target.value);var ga=e(D,2);r(Y),r(W),r(J),r(U),r(A);var E=e(A,2),Z=t(E),aa=e(t(Z),2),ea=e(t(aa),2),S=t(ea);f(S),S.__change=o=>u("arrow",o.target.value);var ya=e(S,2);r(ea),r(aa),r(Z),r(E);var sa=e(E,2),F=t(sa);F.__click=na;var ma=t(F);{var ha=o=>{var K=Qa();m(o,K)},wa=o=>{var K=Aa("ðŸ’¾ Save Colors");m(o,K)};O(ma,o=>{s(g)?o(ha):o(wa,!1)})}r(F);var Fa=e(F,2);Fa.__click=ia,r(sa),za(2),ra((o,K,Ka,Ca,La,qa,Xa,ka,Ba,Da,Sa,Ta,Ra,ja)=>{_(L,o),x(ba,`color: ${K??""}`),_(q,Ka),x(ua,`color: ${Ca??""}`),_(X,La),x(fa,`color: ${qa??""}`),_(k,Xa),x(_a,`color: ${ka??""}`),_(B,Ba),x(xa,`color: ${Da??""}`),_(D,Sa),x(ga,`color: ${Ta??""}`),_(S,Ra),x(ya,`color: ${ja??""}`),F.disabled=s(g)},[()=>d(s(l).bogey),()=>d(s(l).bogey),()=>d(s(l).freq),()=>d(s(l).freq),()=>d(s(l).bandL),()=>d(s(l).bandL),()=>d(s(l).bandKa),()=>d(s(l).bandKa),()=>d(s(l).bandK),()=>d(s(l).bandK),()=>d(s(l).bandX),()=>d(s(l).bandX),()=>d(s(l).arrow),()=>d(s(l).arrow)]),m(a,n)};O(ca,a=>{s(w)?a(va):a(pa,!1)})}r(R),m(b,R),Ea()}Ga(["click","change"]);export{le as component};
