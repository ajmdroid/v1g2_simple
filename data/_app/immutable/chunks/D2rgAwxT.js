import{x as i,_ as k,a7 as g,a8 as M,a9 as N,aa as L,ab as T,l as A,i as d,ac as w,a6 as I,ad as y,k as O,q as C,v as q}from"./D7c9vuRB.js";const D=Symbol("is custom element"),H=Symbol("is html");function V(e){if(i){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var f=e.value;m(e,"value",null),e.value=f}if(e.hasAttribute("checked")){var s=e.checked;m(e,"checked",null),e.checked=s}}};e.__on_r=a,k(a),g()}}function m(e,r,a,f){var s=P(e);i&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[M]=a),a==null?e.removeAttribute(r):typeof a!="string"&&R(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function P(e){return e.__attributes??(e.__attributes={[D]:e.nodeName.includes("-"),[H]:e.namespaceURI===N})}var b=new Map;function R(e){var r=e.getAttribute("is")||e.nodeName,a=b.get(r);if(a)return a;b.set(r,a=[]);for(var f,s=e,o=Element.prototype;o!==s;){f=T(s);for(var l in f)f[l].set&&a.push(l);s=L(s)}return a}function x(e,r,a=r){var f=new WeakSet;A(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=h(e)?n(o):o,a(o),d!==null&&f.add(d),await w(),o!==(o=r())){var l=e.selectionStart,v=e.selectionEnd,_=e.value.length;if(e.value=o??"",v!==null){var c=e.value.length;l===v&&v===_&&c>_?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=l,e.selectionEnd=Math.min(v,c))}}}),(i&&e.defaultValue!==e.value||I(r)==null&&e.value)&&(a(h(e)?n(e.value):e.value),d!==null&&f.add(d)),y(()=>{var s=r();if(e===document.activeElement){var o=O??d;if(f.has(o))return}h(e)&&s===n(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const u=new Set;function B(e,r,a,f,s=f){var o=a.getAttribute("type")==="checkbox",l=e;let v=!1;if(r!==null)for(var _ of r)l=l[_]??(l[_]=[]);l.push(a),A(a,"change",()=>{var c=a.__value;o&&(c=S(l,c,a.checked)),s(c)},()=>s(o?[]:null)),y(()=>{var c=f();if(i&&a.defaultChecked!==a.checked){v=!0;return}o?(c=c||[],a.checked=c.includes(a.__value)):a.checked=C(a.__value,c)}),q(()=>{var c=l.indexOf(a);c!==-1&&l.splice(c,1)}),u.has(l)||(u.add(l),k(()=>{l.sort((c,t)=>c.compareDocumentPosition(t)===4?-1:1),u.delete(l)})),k(()=>{if(v){var c;if(o)c=S(l,c,a.checked);else{var t=l.find(E=>E.checked);c=t==null?void 0:t.__value}s(c)}})}function S(e,r,a){for(var f=new Set,s=0;s<e.length;s+=1)e[s].checked&&f.add(e[s].__value);return a||f.delete(r),Array.from(f)}function h(e){var r=e.type;return r==="number"||r==="range"}function n(e){return e===""?null:+e}export{B as a,x as b,V as r,m as s};
